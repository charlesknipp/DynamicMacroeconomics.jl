var documenterSearchIndex = {"docs":
[{"location":"#DynamicMacroeconomics","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"","category":"section"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"A general purpose DSGE interface which presents a lightweight approach to solving macroeconomic models. The purpose of creating this module was to rapidly estimate models in liu of (Childers, 2022) by make DSGE amenable to a probablistic programming paradigm.","category":"page"},{"location":"#Solving-the-RBC-Model","page":"DynamicMacroeconomics","title":"Solving the RBC Model","text":"","category":"section"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"using DynamicMacroeconomics\nusing DifferentiationInterface\nimport ForwardDiff","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"Consider a perfectly competitive economy where households directly supply their capital reserves K_t-1 and labor hours L_t to firms, who produce goods Y_t according to a production plan f(Z_t K_t-1 L_t) with exogenous productivity Z_t.","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"This is called the RBC Model where f is chosen to reflect perfect competition, and households / firms instantaneously react to changes in prices for capital r_t and labor w_t.","category":"page"},{"location":"#Firms","page":"DynamicMacroeconomics","title":"Firms","text":"","category":"section"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"Firms pay households (r_t w_t) for (K_t-1 L_t) to produce Y_t and maximize profits:","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"beginaligned\n\tmax_K_tL_t  f(Z_t K_t-1 L_t) - r_t K_t-1 - w_t L_t \n\timplies r_t = fracpartial fpartial K_t-1 quad w_t = fracpartial fpartial L_t\nendaligned","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"Consider, for example, a Cobb-Douglas production function f(Z_t K_t-1 L_t) = Z_t K_t-1^alpha L_t^1-alpha where the capital and labor demand functions are as follows:","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"r_t = alpha Z_t K_t-1^alpha-1 L_t^1-alpha quad w_t = (1-alpha) Z_t K_t-1^alpha L_t^-alpha","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"Note that in a perfectly competitive economy Y_t = r_t K_t-1 + w_t L_t which can be validated by substituting the Cobb-Douglas production into the above expressions.","category":"page"},{"location":"#Households","page":"DynamicMacroeconomics","title":"Households","text":"","category":"section"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"Households spend last periods earnings r_t K_t-1 + w_t L_t to either save I_t or consume C_t in order to maximize their expected lifetime utility:","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"beginaligned\n\tmax_C_t I_t L_t K_t sum beta^t u(C_t L_t) quad textst quad  r_t K_t-1 + w_t L_t = I_t + C_t \n\t K_t = I_t + (1 - delta) K_t-1\nendaligned","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"which can be combined to a single Walrasian constraint","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"max sum beta^t u(C_t L_t) quad textst quad K_t = w_t L_t + (r_t+1-delta) K_t-1 - C_t","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"Solving this problem yields the following dynamics","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"beginalign\n\tpartial u  partial C_t+1 = partial u  partial C_t  beta left(r_t + 1 - delta right) \n\t-partial u  partial L_t = partial u  partial C_t  w_t\nendalign","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"which represent the labor and capital supply functions.","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"Note: utility functions are more abstract than production plans since they reflect a preference order on (C_t L_t), where u is isotone in C_t and antitone in L_t see here for more details.","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"Here, I use an isoelastic utility function","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"u(C_t L_t) = fracC_t^1 - gamma1 - gamma - fracL_t^1 + nu1 + nu","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"which has additively separable preferences (important for later).","category":"page"},{"location":"#Optimality-Conditions","page":"DynamicMacroeconomics","title":"Optimality Conditions","text":"","category":"section"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"To summarize, the model exhibits the following dynamics according to both households and firms:","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"beginaligned\n\tpartial u  partial C_t+1 = partial u  partial C_t  beta left(r_t + 1 - delta right) \n\t-partial u  partial L_t = partial u  partial C_t  w_t \n\tK_t = (w_t L_t + r_t K_t-1 - C_t) + (1 - delta) K_t-1 \n\tr_t = partial f  partial K_t-1 \n\tw_t = partial f  partial L_t\nendaligned","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"There are a few simplifying assumptions we can make to more briefly describe the transition dynamics for both households and firms.","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"Let L_t = 1 which implies that households are salaried (recall L_t is hours worked)\nFirms are perfectly competitive, therefore Y_t = r_t K_t-1 + w_t L_t implies Y_t = C_t + I_t","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"With these simplifications, we can reduce the model to the following dynamics:","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"beginaligned\n\tpartial u  partial C_t+1 = partial u  partial C_t  beta  left(partial f  partial K_t-1 + 1 - delta right) \n\tK_t = f(Z_t K_t-1 1) - C_t + (1 - delta) K_t-1 \nendaligned","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"which substitutes rental rate r_t using capital demand and removes the constants associated with households choosing L_t since (1) u is motononic, (2) preferences are additively separable, and (3) optimal choice is purely ordinal.","category":"page"},{"location":"#A-Note-on-Simplicity","page":"DynamicMacroeconomics","title":"A Note on Simplicity","text":"","category":"section"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"This write up is intended to explain general equilibrium from having zero exposure to economics. Therefore, I intentionally take a long winded approach to explain the model's context and it's solution.","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"For example, I could have easily let markets clear Y_t = C_t + I_t be present in the household's constraint, eliminating many of the reductions taken after optimization. But we cannot assume they do without welfare theorems, thus I show this fact ex-post.","category":"page"},{"location":"#Stochastic-Shocks","page":"DynamicMacroeconomics","title":"Stochastic Shocks","text":"","category":"section"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"Let's finally address the mostly neglected exogenous component Z_t, by constructing a mean reverting stochastic process with noise varepsilon_t. Moreover, to ensure Z_t remains positive, we can operate in the log space:","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"log Z_t = rho log Z_t-1 + varepsilon_t","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"with varepsilon_t sim N(0 1)","category":"page"},{"location":"#Defining-the-Model-in-DynamicMacroeconomics","page":"DynamicMacroeconomics","title":"Defining the Model in DynamicMacroeconomics","text":"","category":"section"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"With Cobb-Douglas production and an isoelastic utility, we can define the RBC model in full like so:","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"@block function productivity_process(z, ε)\n    z[t] = ρ * z[t-1] + σ * ε[t]\nend;\n\n@block function euler_equation(c, k, z)\n    (c[t] ^ -γ) = (c[t+1] ^ -γ) * β * (α * exp(z[t+1]) * k[t] ^ (α - 1) + (1 - δ))\nend;\n\n@block function budget_dynamics(c, k, z)\n    k[t] = (exp(z[t]) * k[t-1]^α - c[t]) + (1 - δ) * k[t-1]\nend;\nnothing # hide","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"Everything can also be defined in a single block ala Dynare; but for robust techniques, like sequence Jacobian methods, it could be advantageous to work things out sparsely in blocks.","category":"page"},{"location":"#Steady-States","page":"DynamicMacroeconomics","title":"Steady States","text":"","category":"section"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"The first step to solving the model is obtaining the solution to the steady state, which represents an intertemporal fixed point.","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"Essentially, you take the optimality conditions F(Z_tK_tC_t) and let X^* = X_t = X_t+1 be the steady state value for X =  Z K C .","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"Note: for numerical computation, this can be done with some simple root finding algorithms in most settings; but for speed, I calculate this by hand which is reflected in the following code.","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"function analytical_steady_state(θ)\n    (; β, α, δ) = θ\n    kss = ((1 / β - 1 + δ) / α) ^ (1 / (α - 1))\n    css = kss ^ α - δ * kss\n    return (c=css, k=kss, z=0)\nend;\nnothing # hide","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"With the steady state calculation defined, we have enough to materialize the RBC model.","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"θ = (\n    β = 1/1.05,\n    α = 0.30,\n    δ = 0.25,\n    γ = 1.00,\n    σ = 1.00,\n    ρ = 0.80\n);\n\nrbc_model = RationalExpectationsModel(\n    [productivity_process, budget_dynamics, euler_equation], analytical_steady_state, [:ε]\n);\nnothing # hide","category":"page"},{"location":"#Obtaining-the-State-Space","page":"DynamicMacroeconomics","title":"Obtaining the State Space","text":"","category":"section"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"Using the optimality conditions to directly define dynamics is a slippery slope. Ideally, one could just work with the PDE implied from the Hamiltonian.","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"However, this approach is only saddle-path stable. Therefore, slight deviations from steady-state will tend toward the boundaries when moving forward in time. The phase plot below summarizes this behavior for the continuous time version of the RBC model defined above.","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"(Image: )","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"This behavior is a direct property of the Pontryagin Maximum Principle, in which deviation from steady state violates the transversality condition. In macroeconomics this set of properties ensures solutions are interior, which is referred to as satisfying the Inada conditions.","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"To ensure that (1) solutions are stable and (2) states are purely backwards looking, we often use a k-th order approximation around the steady state to guarantee transition dynamics.","category":"page"},{"location":"#Approximation","page":"DynamicMacroeconomics","title":"Approximation","text":"","category":"section"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"First let the lowercase denote the deviation from the steady state value and define the state vector x_t = z_t k_t c_t","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"Assume a first order perturbation for simplicity sake (this generalizes to a higher order)","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"0 = A x_t+1 + B x_t + C x_t-1 + D varepsilon_t","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"where A B and C are Jacobians with respect to the state variables, and D is the Jacobian with respect to the shock varepsilon.","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"Goal: We want to solve for PQ such that x_t = P x_t-1 + Q varepsilon_t","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"Rational expectations imply Eleftvarepsilon_t right = 0 therefore x_t+1 = P x_t, which we can substitute to solve for the following:","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"0 = A P P + BP + C quad textand quad 0 = (AP + B) Q + D","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"This yields matrices P and Q which defines the state transition for a first order system.","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"Using DynamicMacroeconomics, we can obtain these matrices and construct a SSMProblems compatible state space (as a vector autoregression) like so:","category":"page"},{"location":"","page":"DynamicMacroeconomics","title":"DynamicMacroeconomics","text":"P, Q = solve(rbc_model, θ, 1; algo=QuadraticIteration(), backend=AutoForwardDiff())\nVAR  = LinearGaussianControllableDynamics(P, Q)","category":"page"}]
}
